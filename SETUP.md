# üöÄ Tattoo Locator Setup Guide

## Environment Variables Configuration

### **Required for Production (Render.com)**

You need to set these environment variables in your Render dashboard:

#### **Backend Service (`tattoo-app-backend`)**
1. Go to your backend service in Render
2. Click on "Environment" tab
3. Add these variables:

```bash
# Database (should be auto-configured)
DATABASE_URL=postgresql://... (auto-generated by Render)

# JWT Authentication
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# Google Maps API
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# Cloudinary (for image uploads)
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# Email (SendGrid)
SENDGRID_API_KEY=your-sendgrid-api-key
FROM_EMAIL=your-verified-sender@yourdomain.com
FRONTEND_URL=https://tattoo-app-frontend.onrender.com

# Server Configuration
PORT=3001
NODE_ENV=production
CORS_ORIGIN=https://tattoo-app-frontend.onrender.com
```

#### **Frontend Service (`tattoo-app-frontend`)**
1. Go to your frontend service in Render
2. Click on "Environment" tab
3. Add these variables:

```bash
# API URL
VITE_API_URL=https://tattoo-app-backend.onrender.com

# Google Maps API
VITE_GOOGLE_MAPS_API_KEY=your-google-maps-api-key
```

## üîë Getting API Keys

### **Google Maps API Key**
1. Go to [Google Cloud Console](https://console.cloud.google.com/)
2. Create a new project or select existing one
3. Enable the "Maps JavaScript API"
4. Go to "Credentials" ‚Üí "Create Credentials" ‚Üí "API Key"
5. Copy the key and add it to both backend and frontend environment variables

### **SendGrid API Key**
1. Sign up at [SendGrid](https://sendgrid.com/)
2. Go to Settings ‚Üí API Keys
3. Create a new API key with "Mail Send" permissions
4. Add the key to your backend environment variables

### **Cloudinary (Optional - for image uploads)**
1. Sign up at [Cloudinary](https://cloudinary.com/)
2. Get your cloud name, API key, and API secret from the dashboard
3. Add them to the backend environment variables

## üóÑÔ∏è Database Setup

The database should be automatically created and seeded by Render. If you need to manually seed:

1. Go to your backend service logs
2. Look for any database seeding errors
3. If needed, you can manually trigger seeding by redeploying

## üß™ Testing the Setup

After setting up environment variables:

1. **Test Backend**: Visit `https://tattoo-app-backend.onrender.com/health`
2. **Test Frontend**: Visit `https://tattoo-app-frontend.onrender.com`
3. **Test Registration**: Try creating a new account
4. **Test Map**: Check if the map loads without errors

## üêõ Common Issues

### **500 Backend Errors**
- Check if database is properly connected
- Verify all environment variables are set
- Check backend logs in Render dashboard

### **Google Maps Errors**
- Ensure `VITE_GOOGLE_MAPS_API_KEY` is set in frontend
- Verify the API key has Maps JavaScript API enabled
- Check if billing is enabled on Google Cloud project

### **Email Not Working**
- Verify SendGrid API key is correct
- Check if `FROM_EMAIL` is verified in SendGrid
- Look for email errors in backend logs

## üìû Support

If you encounter issues:
1. Check the Render logs for both services
2. Verify all environment variables are correctly set
3. Ensure the database is properly seeded with demo data 